/* Protocol module */
loadmodule "modules/protocol/charybdis";

/* Database backend module */
loadmodule "modules/backend/opensex";

/* Crypto module */
loadmodule "modules/crypto/posix";

/* NickServ modules */

loadmodule "modules/nickserv/main";
loadmodule "modules/nickserv/set_core";
loadmodule "modules/nickserv/access";
loadmodule "modules/nickserv/badmail";
loadmodule "modules/nickserv/cert";
loadmodule "modules/nickserv/drop";
loadmodule "modules/nickserv/enforce";
loadmodule "modules/nickserv/ghost";
loadmodule "modules/nickserv/group";
loadmodule "modules/nickserv/help";
loadmodule "modules/nickserv/hold";
loadmodule "modules/nickserv/identify";
loadmodule "modules/nickserv/info";
loadmodule "modules/nickserv/info_lastquit";
loadmodule "modules/nickserv/list";
loadmodule "modules/nickserv/listmail";
loadmodule "modules/nickserv/listownmail";
loadmodule "modules/nickserv/login";
loadmodule "modules/nickserv/logout";
loadmodule "modules/nickserv/mark";
loadmodule "modules/nickserv/freeze";
loadmodule "modules/nickserv/listchans";
loadmodule "modules/nickserv/listgroups";
loadmodule "modules/nickserv/register";
loadmodule "modules/nickserv/regnolimit";
loadmodule "modules/nickserv/resetpass";
loadmodule "modules/nickserv/restrict";
loadmodule "modules/nickserv/return";
loadmodule "modules/nickserv/setpass";
loadmodule "modules/nickserv/sendpass";
loadmodule "modules/nickserv/set_accountname";
loadmodule "modules/nickserv/set_email";
loadmodule "modules/nickserv/set_emailmemos";
loadmodule "modules/nickserv/set_enforcetime";
loadmodule "modules/nickserv/set_hidemail";
loadmodule "modules/nickserv/set_language";
loadmodule "modules/nickserv/set_nevergroup";
loadmodule "modules/nickserv/set_neverop";
loadmodule "modules/nickserv/set_nogreet";
loadmodule "modules/nickserv/set_nomemo";
loadmodule "modules/nickserv/set_noop";
loadmodule "modules/nickserv/set_password";
loadmodule "modules/nickserv/set_privmsg";
loadmodule "modules/nickserv/set_private";
loadmodule "modules/nickserv/set_property";
loadmodule "modules/nickserv/set_quietchg";
loadmodule "modules/nickserv/status";
loadmodule "modules/nickserv/taxonomy";
loadmodule "modules/nickserv/vacation";
loadmodule "modules/nickserv/verify";
loadmodule "modules/nickserv/vhost";

/* ChanServ modules */

loadmodule "modules/chanserv/main";
loadmodule "modules/chanserv/access";
loadmodule "modules/chanserv/akick";
loadmodule "modules/chanserv/ban";
loadmodule "modules/chanserv/clone";
loadmodule "modules/chanserv/close";
loadmodule "modules/chanserv/clear";
loadmodule "modules/chanserv/clear_bans";
loadmodule "modules/chanserv/clear_flags";
loadmodule "modules/chanserv/clear_users";
loadmodule "modules/chanserv/count";
loadmodule "modules/chanserv/drop";
loadmodule "modules/chanserv/fflags";
loadmodule "modules/chanserv/flags";
loadmodule "modules/chanserv/ftransfer";
loadmodule "modules/chanserv/getkey";
loadmodule "modules/chanserv/help";
loadmodule "modules/chanserv/hold";
loadmodule "modules/chanserv/info";
loadmodule "modules/chanserv/invite";
loadmodule "modules/chanserv/kick";
loadmodule "modules/chanserv/list";
loadmodule "modules/chanserv/mark";
loadmodule "modules/chanserv/op";
loadmodule "modules/chanserv/quiet";
loadmodule "modules/chanserv/recover";
loadmodule "modules/chanserv/register";
loadmodule "modules/chanserv/set_core";
loadmodule "modules/chanserv/set_email";
loadmodule "modules/chanserv/set_entrymsg";
loadmodule "modules/chanserv/set_fantasy";
loadmodule "modules/chanserv/set_founder";
loadmodule "modules/chanserv/set_gameserv";
loadmodule "modules/chanserv/set_guard";
loadmodule "modules/chanserv/set_keeptopic";
loadmodule "modules/chanserv/set_limitflags";
loadmodule "modules/chanserv/set_mlock";
loadmodule "modules/chanserv/set_prefix";
loadmodule "modules/chanserv/set_private";
loadmodule "modules/chanserv/set_property";
loadmodule "modules/chanserv/set_restricted";
loadmodule "modules/chanserv/set_secure";
loadmodule "modules/chanserv/set_topiclock";
loadmodule "modules/chanserv/set_url";
loadmodule "modules/chanserv/set_verbose";
loadmodule "modules/chanserv/status";
loadmodule "modules/chanserv/sync";
loadmodule "modules/chanserv/successor_acl";
loadmodule "modules/chanserv/taxonomy";
loadmodule "modules/chanserv/template";
loadmodule "modules/chanserv/topic";
loadmodule "modules/chanserv/voice";
loadmodule "modules/chanserv/why";
loadmodule "modules/chanserv/xop";
loadmodule "modules/chanserv/antiflood";

/* OperServ modules */

loadmodule "modules/operserv/main";
loadmodule "modules/operserv/akill";
loadmodule "modules/operserv/clearchan";
loadmodule "modules/operserv/clones";
loadmodule "modules/operserv/compare";
loadmodule "modules/operserv/greplog";
loadmodule "modules/operserv/help";
loadmodule "modules/operserv/identify";
loadmodule "modules/operserv/ignore";
loadmodule "modules/operserv/info";
loadmodule "modules/operserv/jupe";
loadmodule "modules/operserv/mode";
loadmodule "modules/operserv/modinspect";
loadmodule "modules/operserv/modlist";
loadmodule "modules/operserv/modload";
loadmodule "modules/operserv/modunload";
loadmodule "modules/operserv/modreload";
loadmodule "modules/operserv/noop";
loadmodule "modules/operserv/override";
loadmodule "modules/operserv/rakill";
loadmodule "modules/operserv/readonly";
loadmodule "modules/operserv/rehash";
loadmodule "modules/operserv/restart";
loadmodule "modules/operserv/rmatch";
loadmodule "modules/operserv/rnc";
loadmodule "modules/operserv/rwatch";
loadmodule "modules/operserv/set";
loadmodule "modules/operserv/sgline";
loadmodule "modules/operserv/shutdown";
loadmodule "modules/operserv/soper";
loadmodule "modules/operserv/specs";
loadmodule "modules/operserv/sqline";
loadmodule "modules/operserv/update";
loadmodule "modules/operserv/uptime";

/* MemoServ modules */

loadmodule "modules/memoserv/main";
loadmodule "modules/memoserv/help";
loadmodule "modules/memoserv/send";
loadmodule "modules/memoserv/sendops";
loadmodule "modules/memoserv/sendgroup";
loadmodule "modules/memoserv/list";
loadmodule "modules/memoserv/read";
loadmodule "modules/memoserv/forward";
loadmodule "modules/memoserv/delete";
loadmodule "modules/memoserv/ignore";

/* Global module */

loadmodule "modules/global/main";

/* InfoServ module */

loadmodule "modules/infoserv/main";

/* SASL agent module */

loadmodule "modules/saslserv/main";
loadmodule "modules/saslserv/plain";
loadmodule "modules/saslserv/authcookie";
loadmodule "modules/saslserv/external";
loadmodule "modules/saslserv/dh-blowfish";
loadmodule "modules/saslserv/dh-aes";

/* GameServ modules */

loadmodule "modules/gameserv/main";
loadmodule "modules/gameserv/dice";
loadmodule "modules/gameserv/eightball";
loadmodule "modules/gameserv/gamecalc";
loadmodule "modules/gameserv/help";
loadmodule "modules/gameserv/lottery";
loadmodule "modules/gameserv/namegen";
loadmodule "modules/gameserv/rps";

/* BotServ modules */

loadmodule "modules/botserv/main";
loadmodule "modules/botserv/help";
loadmodule "modules/botserv/info";
loadmodule "modules/botserv/bottalk";
loadmodule "modules/botserv/set_core";
loadmodule "modules/botserv/set_fantasy";
loadmodule "modules/botserv/set_nobot";
loadmodule "modules/botserv/set_private";

/* HostServ modules */

loadmodule "modules/hostserv/main";
loadmodule "modules/hostserv/help";
loadmodule "modules/hostserv/onoff";
loadmodule "modules/hostserv/offer";
loadmodule "modules/hostserv/request";
loadmodule "modules/hostserv/vhost";
loadmodule "modules/hostserv/vhostnick";
loadmodule "modules/hostserv/group";

/* Channel listing service */

loadmodule "modules/alis/main";

/* StatServ module */

loadmodule "modules/statserv/main";
loadmodule "modules/statserv/channel";
loadmodule "modules/statserv/netsplit";
loadmodule "modules/statserv/server";

/* GroupServ module */

loadmodule "modules/groupserv/acsnolimit";
loadmodule "modules/groupserv/drop";
loadmodule "modules/groupserv/fdrop";
loadmodule "modules/groupserv/fflags";
loadmodule "modules/groupserv/flags";
loadmodule "modules/groupserv/help";
loadmodule "modules/groupserv/info";
loadmodule "modules/groupserv/join";
loadmodule "modules/groupserv/list";
loadmodule "modules/groupserv/listchans";
loadmodule "modules/groupserv/register";
loadmodule "modules/groupserv/regnolimit";
loadmodule "modules/groupserv/invite";
loadmodule "modules/groupserv/set";
loadmodule "modules/groupserv/set_channel";
loadmodule "modules/groupserv/set_description";
loadmodule "modules/groupserv/set_email";
loadmodule "modules/groupserv/set_joinflags";
loadmodule "modules/groupserv/set_open";
loadmodule "modules/groupserv/set_public";
loadmodule "modules/groupserv/set_url";

/* HTTP server */

loadmodule "modules/misc/httpd";

/* XMLRPC server module */

loadmodule "modules/transport/xmlrpc";

/* exttarget modules */

loadmodule "modules/exttarget/main";
loadmodule "modules/exttarget/oper";
loadmodule "modules/exttarget/chanacs";
loadmodule "modules/exttarget/channel";
loadmodule "modules/exttarget/registered";

/* Extra modules! */
loadmodule "modules/contrib/cs_ponies";
loadmodule "modules/contrib/cs_hug";
loadmodule "modules/contrib/cs_boop";
loadmodule "modules/contrib/ns_fregister";
loadmodule "modules/contrib/os_trace";

/* Configuration */

serverinfo {
  name = "services.hangouts.net";
  desc = "Hangouts IRC Services";
  numeric = "33C";
  recontime = 10;
  netname = "HangoutsNET";
  hidehostsuffix = "hangouts.net";
  adminname = "Parted Cloud";
  adminemail = "bee@parted.me";
  registeremail = "no-reply@parted.me";
  hidden; /* don't show this server in links */
  mta = "/usr/sbin/sendmail";
  loglevel = { error; info; commands; admin; register;
    set; request; network; wallops; };
  maxlogins = 100;
  maxusers = 100;
  mdlimit = 100;
  emaillimit = 10;
  emailtime = 300;
  auth = none;
  casemapping = rfc1459;
};

uplink "chat.parted.me" {
  host = "127.0.0.1";
  send_password = "redacted";
  receive_password = "redacted";
  port = 1338;
};

nickserv {
  nick = "NickServ";
  user = "NickServ";
  host = "services.hangouts.net";
  real = "Nickname Services";
  aliases {
    "ID" = "IDENTIFY";
    "MYACCESS" = "LISTCHANS";
  };
  maxnicks = 100;
  expire = 30;
  cracklib_dist = "";
};

chanserv {
  nick = "ChanServ";
  user = "ChanServ";
  host = "services.hangouts.net";
  real = "Channel Services";
  aliases {
    "CD" = "COUNTDOWN";
  };
  maxchans = 100;
  fantasy;
  templates {
    vop = "+AV";
    hop = "+AHhtv";
    aop = "+AOhiortv";
    sop = "+AOafhiorstv";
    founder = "+AFORafhiorstv";
  };
  trigger = "!";
  expire = 30;
  manchanacs = 0;
  maxfounders = 10;
  antiflood_enforce_method = quiet;
};

chanfix {
  nick = "ChanFix";
  user = "ChanFix";
  host = "services.hangouts.net";
  real = "Channel Fixing Service";
  autofix;
};

global {
  nick = "Global";
  user = "Global";
  host = "services.hangouts.net";
  real = "Network Announcements";
};

infoserv {
  nick = "InfoServ";
  user = "InfoServ";
  host = "services.hangouts.net";
  real = "Information Service";
  logoninfo_count = 3;
};

operserv {
  nick = "OperServ";
  user = "OperServ";
  host = "services.hangouts.net";
  real = "Operator Services";
};

saslserv {
  nick = "SaslServ";
  user = "SaslServ";
  host = "services.hangouts.net";
  real = "SASL Authentication Agent";
};

memoserv {
  nick = "MemoServ";
  user = "MemoServ";
  host = "services.hangouts.net";
  real = "Memo Services";
  maxmemos = 100;
};

gameserv {
  nick = "GameServ";
  user = "GameServ";
  host = "services.hangouts.net";
  real = "Game Services";
};

botserv {
  nick = "BotServ";
  user = "BotServ";
  host = "services.hangouts.net";
  real = "Bot Services";
  min_users = 0;
};

groupserv {
  nick = "GroupServ";
  user = "GroupServ";
  host = "services.hangouts.net";
  real = "Group Management Services";
  maxgroups = 100;
  maxgroupacs = 100;
  enable_open_groups;
  join_flags = "+";
};

hostserv {
  nick = "HostServ";
  user = "HostServ";
  host = "services.hangouts.net";
  real = "Host Management Services";
  aliases {
    "APPROVE" = "ACTIVATE";
    "DENY" = "REJECT";
  };
};

statserv {
  nick = "StatServ";
  user = "StatServ";
  host = "services.hangouts.net";
  real = "Statistics Services";
};

alis {
  nick = "ALIS";
  user = "alis";
  host = "services.hangouts.net";
  real = "Channel Discovery";
};

httpd {
  host = "127.0.0.1";
  www_root = "/usr/local/atheme/www"; /* Make sure to set that up */
  port = 1339;
};

/* logging */

logfile "var/account.log" { register; set; };
logfile "var/commands.log" { commands; };
logfile "var/services.log" { error; info; admin; request; register; };
logfile "var/snotices.log" { error; info; request; };
logfile "#opers" { request; };

general {
  join_chans;
  leave_chans;
  uflags = { hidemail; };
  cflags = { verbose; guard; };
  flood_msgs = 0;
  flood_time = 0;
  ratelimit_uses = 0;
  ratelimit_period = 0;
  kline_time = 7;
  clone_time = 0;
  commit_interval = 5;
  default_clone_allowed = 100;
  default_clone_warn = 100;
  clone_identified_increase_limit;
  uplink_sendq_limit = 1048576;
  language = "en";
  immune_level = immune;
};

/* Operclasses */

operclass "user" { 
  privs {
  };
};


operclass "sra" {
  extends "user";
  privs {
    special:ircop;
  };
  privs {
    user:auspex;
    user:admin;
    user:hold;
    user:mark;
    user:regnolimit;
    user:sendpass;
    user:vhost;
    user:fregister;
  };
  privs {
    chan:auspex;
    chan:admin;
    chan:cmodes;
    chan:joinstaffonly;
  };
  privs {
    general:admin;
    general:flood;
    general:helper;
    general:metadata;
    general:viewprivs;
  };
  privs {
    operserv:omode;
    operserv:akill;
    operserv:jupe;
    operserv:global;
    operserv:massakill;
    operserv:akill-anymask;
    operserv:noop;
    operserv:grant;
    operserv:override;
  };
  privs {
    group:auspex;
    group:admin;
  };
  needoper;
};

/* operator blocks redacted */
